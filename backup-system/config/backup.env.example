# ===========================================
# ОСНОВНЫЕ НАСТРОЙКИ БЕКАПА
# ===========================================

# Включить/отключить компоненты бекапа
BACKUP_ENABLED=true
BACKUP_VOLUMES=true
BACKUP_DATABASE=true

# Настройки проекта
PROJECT_NAME=onedev
PROJECT_DESCRIPTION="OneDev Git Server"

# ===========================================
# НАСТРОЙКИ БАЗЫ ДАННЫХ PostgreSQL
# ===========================================
DB_ENABLED=true
DB_TYPE=postgresql
DB_HOST=onedev-db
DB_PORT=5432
DB_NAME=onedev
DB_USER=onedev
DB_PASSWORD=onedev_secure_password_change_me

# ===========================================
# НАСТРОЙКИ VOLUME БЕКАПОВ
# ===========================================
VOLUMES_ENABLED=true
# Список volume для бекапа (через запятую)
VOLUMES_LIST=onedev-data,onedev-db-data

# ===========================================
# НАСТРОЙКИ УДАЛЕННОГО СЕРВЕРА
# ===========================================
REMOTE_ENABLED=true
REMOTE_HOST=backup-server.example.com
REMOTE_PORT=22
REMOTE_USER=backup
REMOTE_PATH=/backups/onedev

# SSH ключ (путь внутри контейнера)
REMOTE_SSH_KEY=/app/config/ssh/id_rsa

# ===========================================
# НАСТРОЙКИ РОТАЦИИ БЕКАПОВ
# ===========================================
# Количество дней для хранения бекапов
RETENTION_DAYS=30
# Количество еженедельных бекапов для хранения
RETENTION_WEEKLY=4
# Количество месячных бекапов для хранения
RETENTION_MONTHLY=12

# ===========================================
# НАСТРОЙКИ РАСПИСАНИЯ
# ===========================================
# Cron расписание для автоматических бекапов
BACKUP_SCHEDULE="0 2 * * *"  # Каждый день в 2:00

# ===========================================
# НАСТРОЙКИ УВЕДОМЛЕНИЙ TELEGRAM
# ===========================================
TELEGRAM_ENABLED=true
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here

# ===========================================
# НАСТРОЙКИ ЛОГИРОВАНИЯ
# ===========================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARN, ERROR
LOG_FILE=/app/logs/backup.log
MAX_LOG_SIZE=10M
LOG_RETENTION=7

# ===========================================
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
# ===========================================
# Сжатие бекапов
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6  # 1-9

# Шифрование бекапов
ENCRYPTION_ENABLED=false
ENCRYPTION_PASSWORD=""

# Тестовый режим (dry-run)
DRY_RUN=false
