# üõ†Ô∏è DevOps Template

–ì–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è DevOps –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –±–µ–∫–∞–ø–∞–º–∏.

## üì¶ –í–∫–ª—é—á–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

- **üîß [OneeDev](onedev/)** - –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Git —Å–µ—Ä–≤–µ—Ä —Å CI/CD
- **üì¶ [Registry](registry/)** - –ü—Ä–∏–≤–∞—Ç–Ω—ã–π Docker Registry  
- **üîß [Gitea](gitea/)** - –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π Git —Å–µ—Ä–≤–µ—Ä
- **üíæ [Backup System](backup-system/)** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–µ–∫–∞–ø–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. OneeDev —Å —Å–∏—Å—Ç–µ–º–æ–π –±–µ–∫–∞–ø–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
cd onedev
./install-backup.sh

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nano backup/config/backup.env

# –ó–∞–ø—É—Å–∫ —Å –±–µ–∫–∞–ø–∞–º–∏  
docker compose --profile backup up -d
```

### 2. Registry

```bash
cd registry
./install.sh
docker compose up -d
```

### 3. Gitea

```bash
cd gitea  
./install.sh
docker compose up -d
```

## üíæ –°–∏—Å—Ç–µ–º–∞ –±–µ–∫–∞–ø–æ–≤

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Docker volumes
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- ‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
- ‚úÖ Dry-run —Ä–µ–∂–∏–º

### –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ª—é–±–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω
cp backup-system/install-template.sh your-project/install-backup.sh

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
nano your-project/install-backup.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
cd your-project
./install-backup.sh
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
docker exec <project>-backup /app/scripts/entrypoint.sh test-connection

# –ë–µ–∫–∞–ø –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ  
docker exec <project>-backup /app/scripts/entrypoint.sh backup --dry-run

# –ü–æ–ª–Ω—ã–π –±–µ–∫–∞–ø
docker exec <project>-backup /app/scripts/entrypoint.sh backup

# –°–ø—Ä–∞–≤–∫–∞
docker exec <project>-backup /app/scripts/entrypoint.sh help
```

## üìã –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](QUICK_START.md)** - –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- **[–°–∏—Å—Ç–µ–º–∞ –±–µ–∫–∞–ø–æ–≤](backup-system/README.md)** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[OneeDev](onedev/)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Git —Å–µ—Ä–≤–µ—Ä–∞
- **[Registry](registry/)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Docker Registry

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker 20.10+
- Docker Compose 2.0+
- Linux (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ Ubuntu 22.04+)

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- SSH –∫–ª—é—á–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–µ–∫–∞–ø–∞–º
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø–∞—Ä–æ–ª–µ–π
- Nginx proxy —Å SSL –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å—é
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

## üì± –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –±–µ–∫–∞–ø–æ–≤
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- Healthcheck –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –±–µ–∫–∞–ø–æ–≤ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π)
- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00** - –ø–æ–ª–Ω—ã–π –±–µ–∫–∞–ø
- **–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 1:00** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **1 —á–∏—Å–ª–æ –º–µ—Å—è—Ü–∞ –≤ 3:00** - –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±–µ–∫–∞–ø–æ–≤

### –†–æ—Ç–∞—Ü–∏—è –±–µ–∫–∞–ø–æ–≤
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ: 30 –¥–Ω–µ–π
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ: 4 –Ω–µ–¥–µ–ª–∏  
- –ú–µ—Å—è—á–Ω—ã–µ: 12 –º–µ—Å—è—Ü–µ–≤

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](backup-system/README.md)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É: `test-connection`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker logs <container>`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--dry-run` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –¥–ª—è –ª–∏—á–Ω—ã—Ö –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

---

**üí° –°–æ–≤–µ—Ç**: –ù–∞—á–Ω–∏—Ç–µ —Å OneeDev –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π –±–µ–∫–∞–ø–æ–≤!
